<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition>

        <!--tablas-->

        <section class="vh-75 ">

            <div class="container h-100 mt-5 mb-5">
                <div class="row d-flex justify-content-center align-items-center h-100">

                    <div class="bg-secondary" style="border-radius: 15px;">
                        <div class="card-body p-5 text-light">
                            <h2 class="text-uppercase text-center mb-5">Editar Datos</h2>
                            <div class="text-center mb-5">
                                <img src="#{usuarioSession.usuLog.usuFoto}" class="rounded-pill" alt="" height="210px" width="230px"/>
                            </div>
                            <h:form class="row g-3 ">
                                <div class="col-12 col-md-12 col-lg-6 col-xl-6 ">
                                    <div class="form-outline mb-4  ">
                                        <h:inputText
                                            value="#{usuarioSession.usuLog.usuNombre}"
                                            html5:type="text"
                                            id="formNombre"
                                            class="form-control form-control-lg  was-validated"

                                            required="true"
                                            requiredMessage="Ingresa un nombre(s)"
                                            html5:placeholder="Nombre(s)"
                                            />
                                        <h:message for="formNombre" style="color: red"/>

                                    </div>

                                    <div class="form-outline mb-4  ">

                                        <h:inputText html5:type="text"
                                                     id="formApellido"
                                                     class="form-control form-control-lg   was-validated"

                                                     required="true"
                                                     requiredMessage="Ingresa un apellido(s)"
                                                     html5:placeholder="Apellido(s)"
                                                     value="#{usuarioSession.usuLog.usuApellido}"
                                                     />
                                        <h:message for="formApellido" style="color: red"/>


                                    </div>



                                    <h6 class="mb-1 me-4">Tipo de Documento: </h6>
                                    <div class="form-group">
                                        <h:selectOneMenu required="true"
                                                         html5:disabled="true"
                                                         value="#{usuarioSession.usuLog.usuTipodedato}"
                                                         requiredMessage="Ingresa el Tipo de Documento"
                                                         class="form-select form-select-sm mb-3 w-50 "
                                                         html5:aria-label=".form-select-sm examplemultiple"  
                                                         id="formTipoDocumento"
                                                         >
                                            <f:selectItem itemLabel="Selecciona..." itemValue="" html5:disabled="ttrue" html5:selected="true"/>
                                            <f:selectItems value="#{usuarioSession.listaTipDoc}"/>
                                        </h:selectOneMenu>
                                        <h:message for="formTipoDocumento" style="color: red"/>
                                    </div>



                                    <div class="form-outline mb-4  ">

                                        <h:inputText html5:type="text"
                                                     id="formDocumento"
                                                     html5:disabled="true"
                                                     class="form-control form-control-lg   was-validated"

                                                     required="true"
                                                     requiredMessage="Ingresa el Número de Documento"
                                                     html5:placeholder="Número de Documento"
                                                     value="#{usuarioSession.usuLog.pkUsuId}"
                                                     />
                                        <h:message for="formDocumento" style="color: red"/>


                                    </div>





                                    <!--Genero-->


                                </div> 
                                <div class="col-12 col-md-12 col-lg-6 col-xl-6">

                                    <!--oooooooooooooo-->
                                    <div class="form-outline mb-4">
                                        <h:inputText html5:type="email"
                                                     html5:disabled="true"
                                                     id="formCorreo"
                                                     class="form-control form-control-lg"
                                                     required="true"
                                                     requiredMessage="Ingresa un correo válido"
                                                     html5:placeholder="Correo electrónico"
                                                     value="#{usuarioSession.usuLog.usuCorreo}"
                                                     />
                                        <h:message for="formCorreo" style="color: red"/>


                                    </div>

                                    <div class="form-outline mb-4  ">

                                        <h:inputText html5:type="text"
                                                     id="NomUser"
                                                     class="form-control form-control-lg"

                                                     required="true"
                                                     requiredMessage="Ingresa el nombre de usuario"
                                                     html5:placeholder="Nombre de usuario"
                                                     value="#{usuarioSession.usuLog.usuNomusu}"
                                                     />
                                        <h:message for="NomUser" style="color: red"/>


                                    </div>

                                    <div class="form-outline mb-4  ">
                                        <h:inputText html5:type="text"
                                                     id="Foto"
                                                     class="form-control form-control-lg   was-validated"

                                                     html5:placeholder="Foto"
                                                     value="#{usuarioSession.usuLog.usuFoto}"
                                                     />

                                    </div>

                                    <h6 class="mb-1 me-4">Genero: </h6>

                                    <div class="mb-3  ">
                                        <p:selectOneRadio id="genero" value="#{usuarioSession.usuLog.usuGenero}" 
                                                          required="true" requiredMessage="Ingresa una opción"
                                                          html5:disabled="true">
                                            <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                                            <f:selectItem itemLabel="Femenino" itemValue="Femenino"/>
                                            <f:selectItem itemLabel="Otro" itemValue="Otro"/>
                                        </p:selectOneRadio>
                                        <h:message for="genero" style="color: red"/>
                                    </div>

                                </div>
                                <div class="d-flex justify-content-start ">
                                    <h:commandButton 
                                        class="btn  btn-lg btn-block text-light" 
                                        style="background-color: #4b0081;" 
                                        value="Editar"
                                        action="#{usuarioSession.editarMiPefil()}">
                                    </h:commandButton>
                                </div>

                            </h:form>

                        </div>
                    </div>

                </div>
            </div>


        </section>



      
                <div class="col-12 col-md-12 col-lg-6 col-xl-6 ">
                    <div class=" mt-3 mb-3  justify-content-star">
                        <div class=" sm-6 card bg-secondarytext-light">
                            <div class="card-body">
                                <h5 class="card-title">Quieres eliminar tu cuenta?</h5>
                                <p class="card-text">Elimina tu cuenta de manera temporal</p>
                                <button 
                                    type="button" 
                                    class="btn btn-block text-light" 
                                    style="background-color: #4b0081"
                                    data-bs-toggle="modal" 
                                    data-bs-target="#modalEliminarUsuario"
                                    >
                                    ir   
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-md-12 col-lg-6 col-xl-6 ">
                    <div class=" mt-3 mb-3  justify-content-end">
                        <div class=" sm-6 card bg-secondarytext-light">
                            <div class="card-body">
                                <h5 class="card-title">Quieres Cambiar tú contraseña?</h5>
                                <p class="card-text">Actualiza tu contraseña</p>

                                <button 
                                    type="button" 
                                    class="btn btn-block text-light" 
                                    style="background-color: #4b0081"
                                    data-bs-toggle="modal" 
                                    data-bs-target="#modalCambiarContrasena"
                                    >
                                    ir   
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            



            <h:form id="eliminarmicuenta">
                <div class="modal fade" id="modalEliminarUsuario" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header text-center text-light bg-secondary">
                                <h5 class="modal-title" id="modalEliminarUsuarioLabel">¿Estás seguro que quieres eliminar al usuario?</h5>
                                <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-center bg-secondary">
                                <button type="button" class="btn btn-dark me-2" data-bs-dismiss="modal">Cerrar</button>

                                <h:commandButton 
                                    class="btn text-light me-2"
                                    value="Eliminar"
                                    style="background-color: #4b0081"
                                    action="#{usuarioSession.eliminarMiPefil()}"
                                    > <a href="#{request.contextPath}/"/>
                                </h:commandButton>

                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
            
            <div class="modal fade" id="modalCambiarContrasena" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header bg-secondary">
                        <h5 class="modal-title" id="staticBackdropLabel">Cambiar Contraseña</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body bg-secondary">

                        <div class="row d-flex justify-content-center align-items-center h-100 text-light">
                            <h:form>
                                <h6>Escribe Tú contraseña actual:</h6>
                                <div class="form-outline mb-2  ">
                                    <h:inputText html5:type="text"
                                                 id="passwordA"
                                                 class="form-control form-control-lg"
                                                 required="true"
                                                 requiredMessage="Ingresa la contraseña"
                                                 html5:placeholder="Contraseña Actual"
                                                 value="#{usuarioSession.contrasenaCambio}"
                                                 />
                                    <h:message for="passwordA" style="color: red"/>

                                </div>

                                <h6>Ingresa La contraseña nueva:</h6>
                                <div class="form-outline mb-2  ">
                                    <h:inputText html5:type="text"
                                                 id="password"
                                                 class="form-control form-control-lg "
                                                 required="true"
                                                 requiredMessage="Ingresa la contraseña nueva"
                                                 html5:placeholder="Nueva Contraseña"
                                                 value="#{usuarioSession.nuevaContrasena}"
                                                 />
                                    <h:message for="password" style="color: red"/>

                                </div>
                                
                                <h6>Repite la contraseña:</h6>
                                <div class="form-outline mb-2  ">
                                    <h:inputText html5:type="text"
                                                 id="password1"
                                                 class="form-control form-control-lg "
                                                 required="true"
                                                 requiredMessage="Repite la contraeña"
                                                 html5:placeholder="Repite la Contraseña"
                                                 value="#{usuarioSession.repiteContraena}"
                                                 />
                                    <h:message for="password1" style="color: red"/>

                                </div>


                                <div class="modal-footer">
                                    <button type="button"
                                            class="btn btn-block btn-dark mb-4"
                                            data-bs-dismiss="modal">Cerrar</button>
                                    <h:commandButton 
                                        class="btn btn-block text-light mb-4"
                                        value="Guardar"
                                        style="background-color: #4b0081"
                                        action="#{usuarioSession.editarContrasena()}"
                                        >
                                    </h:commandButton>
                                </div>
                            </h:form>

                        </div>

                    </div>

                </div>
            </div>
        </div>
        


    </ui:composition>
</html>

